name: iamb
base: core24
adopt-info: iamb
summary: A Matrix client for Vim addicts
description: |
  This project is a work-in-progress, and there's still a lot to be implemented,
  but much of the basic client functionality is already present.

grade: stable
confinement: strict

platforms:
  amd64:
  arm64:
  armhf:

parts:
  iamb:
    plugin: rust
    source: https://github.com/ulyssa/iamb
    source-type: git
    override-pull: |
      craftctl default
      craftctl set version="$(git describe --tags --abbrev=8)"
    
apps:
  iamb:
    command: bin/iamb
    plugs:
      - network
